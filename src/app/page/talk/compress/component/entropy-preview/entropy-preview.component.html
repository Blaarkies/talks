<app-pane
  [type]="type()"
  [swap]="true"
  [shadow]="true"
>
  <div class="layout-entropy-measure">

    <div class="title">{{ header() }}</div>

    <div
      #previewData
      class="preview-data"
      (click)="wordClick($event.target, previewData)"
      (pointerover)="triggerWordHover($event.target, previewData)"
      (pointerleave)="triggerWordHover()"
    >
      @for (token of text(); track $index) {
        <span [attr.data-token]="token">{{ token }}</span>
      }
    </div>

    @if (encodedTokens().length) {
      <div class="encoding-layout">
        <div class="token-label-list">
          @for (encoding of encodedTokens(); track encoding.refEntry) {
            <span
              class="entry-preview"
              (click)="removeEncoding(encoding.refEntry)"
            >
              {{ encoding.label }}
            </span>
          }
        </div>

        <div class="info">
          <app-button
            [tabindex]="5"
            [type]="type()"
            (click1)="clearTokens()">
            CLEAR
          </app-button>
          <div>Total: {{ totalBytes() }} bytes</div>
        </div>
      </div>
    } @else {
      <app-entropy-measure [data]="data()"/>
    }

  </div>
</app-pane>